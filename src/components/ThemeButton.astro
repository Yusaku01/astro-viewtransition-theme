<button
	class="theme-toggle"
	type="button"
	data-theme-toggle
	aria-label="Toggle color theme"
>
	<span class="theme-toggle__thumb" aria-hidden="true">
		<span class="theme-toggle__icon theme-toggle__icon--sun" aria-hidden="true">
			<svg viewBox="0 0 24 24" width="14" height="14" aria-hidden="true">
				<circle cx="12" cy="12" r="4" fill="currentColor" />
				<circle cx="12" cy="2.5" r="1.5" fill="currentColor" />
				<circle cx="12" cy="21.5" r="1.5" fill="currentColor" />
				<circle cx="2.5" cy="12" r="1.5" fill="currentColor" />
				<circle cx="21.5" cy="12" r="1.5" fill="currentColor" />
				<circle cx="4.6" cy="4.6" r="1.3" fill="currentColor" />
				<circle cx="19.4" cy="4.6" r="1.3" fill="currentColor" />
				<circle cx="4.6" cy="19.4" r="1.3" fill="currentColor" />
				<circle cx="19.4" cy="19.4" r="1.3" fill="currentColor" />
			</svg>
		</span>
		<span class="theme-toggle__icon theme-toggle__icon--moon" aria-hidden="true">
			<svg viewBox="0 0 24 24" width="14" height="14" aria-hidden="true">
				<path
					d="M16.5 14.5a6.5 6.5 0 0 1-7-7 7.5 7.5 0 1 0 7 7z"
					fill="currentColor"
				/>
			</svg>
		</span>
	</span>
	<span class="theme-toggle__value sr-only" data-theme-label>Light</span>
</button>

<style>
	:global(:root) {
		--toggle-track: #1f2632;
		--toggle-thumb: #f6f7f9;
		--toggle-icon: #7b8494;
	}

	:global(html[data-theme='dark']) {
		--toggle-track: #2a3342;
		--toggle-thumb: #f2f4f7;
		--toggle-icon: #6f798c;
	}

	.theme-toggle {
		--toggle-width: 76px;
		--toggle-height: 36px;
		--toggle-padding: 4px;
		--toggle-thumb-size: 28px;

		position: relative;
		display: inline-flex;
		align-items: center;
		justify-content: flex-start;
		width: var(--toggle-width);
		height: var(--toggle-height);
		padding: 0;
		border-radius: 999px;
		border: none;
		background: linear-gradient(
				180deg,
				rgba(255, 255, 255, 0.08),
				rgba(0, 0, 0, 0.25)
			),
			var(--toggle-track);
		box-shadow:
			inset 0 1px 2px rgba(255, 255, 255, 0.08),
			inset 0 -2px 4px rgba(0, 0, 0, 0.4);
		cursor: pointer;
		transition: background 200ms ease, box-shadow 200ms ease;
	}

	.theme-toggle:focus-visible {
		outline: 2px solid var(--accent);
		outline-offset: 3px;
	}

	.theme-toggle__thumb {
		position: absolute;
		top: var(--toggle-padding);
		left: var(--toggle-padding);
		width: var(--toggle-thumb-size);
		height: var(--toggle-thumb-size);
		border-radius: 50%;
		background: var(--toggle-thumb);
		box-shadow:
			0 4px 10px rgba(0, 0, 0, 0.35),
			inset 0 1px 2px rgba(255, 255, 255, 0.8);
		display: grid;
		place-items: center;
		transform: translateX(
			calc(
				var(--toggle-width) - (var(--toggle-padding) * 2) - var(--toggle-thumb-size)
			)
		);
		transition: transform 200ms ease, box-shadow 200ms ease, background 200ms ease;
	}

	:global(html[data-theme='dark']) .theme-toggle__thumb {
		transform: translateX(0);
	}

	.theme-toggle__icon {
		position: absolute;
		inset: 0;
		display: grid;
		place-items: center;
		color: var(--toggle-icon);
		transition: opacity 180ms ease, transform 180ms ease;
	}

	.theme-toggle__icon--moon {
		opacity: 0;
		transform: scale(0.6);
	}

	:global(html[data-theme='dark']) .theme-toggle__icon--sun {
		opacity: 0;
		transform: scale(0.6);
	}

	:global(html[data-theme='dark']) .theme-toggle__icon--moon {
		opacity: 1;
		transform: scale(1);
	}

	.sr-only {
		position: absolute;
		width: 1px;
		height: 1px;
		padding: 0;
		margin: -1px;
		overflow: hidden;
		clip: rect(0, 0, 0, 0);
		white-space: nowrap;
		border: 0;
	}
</style>
